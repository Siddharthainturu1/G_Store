{"ast":null,"code":"import { GET_USER_INFO_FAILURE, GET_USER_INFO_REQUEST, GET_USER_INFO_SUCCESS, LOGIN_USER_FAILURE, LOGIN_USER_REQUEST, LOGIN_USER_SUCCESS, LOGOUT_USER, REGISTER_USER_FAILURE, REGISTER_USER_REQUEST, REGISTER_USER_SUCCESS, UPDATE_ADDRESS_FAILURE, UPDATE_ADDRESS_REQUEST, UPDATE_ADDRESS_SUCCESS } from \"./users.actionTypes\";\nexport const USER_FEATURE_KEY = 'user';\nlet initialState = {\n  loading: false,\n  user: null,\n  token: null,\n  isAuthenticated: false,\n  errorMessage: null\n};\n\nlet userReducer = (state = initialState, action) => {\n  let {\n    type,\n    payload\n  } = action;\n\n  switch (type) {\n    // register a user\n    case REGISTER_USER_REQUEST:\n      return { ...state,\n        loading: true\n      };\n\n    case REGISTER_USER_SUCCESS:\n      return { ...state,\n        loading: false\n      };\n\n    case REGISTER_USER_FAILURE:\n      return { ...state,\n        loading: false,\n        errorMessage: payload\n      };\n    // Login a user\n\n    case LOGIN_USER_REQUEST:\n      return { ...state,\n        loading: true\n      };\n\n    case LOGIN_USER_SUCCESS:\n      localStorage.setItem('token', payload.token);\n      return { ...state,\n        loading: false,\n        token: payload.token,\n        isAuthenticated: true\n      };\n\n    case LOGIN_USER_FAILURE:\n      localStorage.removeItem('token');\n      return { ...state,\n        loading: false,\n        errorMessage: payload,\n        token: null,\n        isAuthenticated: false\n      };\n    // get User Info\n\n    case GET_USER_INFO_REQUEST:\n      return { ...state,\n        loading: true\n      };\n\n    case GET_USER_INFO_SUCCESS:\n      localStorage.setItem('user', JSON.stringify(payload));\n      return { ...state,\n        loading: false,\n        user: payload,\n        isAuthenticated: true\n      };\n\n    case GET_USER_INFO_FAILURE:\n      localStorage.removeItem('user');\n      return { ...state,\n        loading: false,\n        errorMessage: payload,\n        user: null\n      };\n    // Logout User\n\n    case LOGOUT_USER:\n      localStorage.removeItem('token');\n      localStorage.removeItem('user');\n      return { ...state,\n        user: null,\n        isAuthenticated: false,\n        token: null\n      };\n    // update User Address\n\n    case UPDATE_ADDRESS_REQUEST:\n      return { ...state,\n        loading: true\n      };\n\n    case UPDATE_ADDRESS_SUCCESS:\n      localStorage.setItem('user', JSON.stringify(payload));\n      return { ...state,\n        loading: false,\n        user: payload,\n        isAuthenticated: true\n      };\n\n    case UPDATE_ADDRESS_FAILURE:\n      return { ...state,\n        loading: false,\n        errorMessage: payload\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport { userReducer };","map":{"version":3,"sources":["C:/Users/HP/Desktop/G Store/client/src/redux/users/users.reducers.js"],"names":["GET_USER_INFO_FAILURE","GET_USER_INFO_REQUEST","GET_USER_INFO_SUCCESS","LOGIN_USER_FAILURE","LOGIN_USER_REQUEST","LOGIN_USER_SUCCESS","LOGOUT_USER","REGISTER_USER_FAILURE","REGISTER_USER_REQUEST","REGISTER_USER_SUCCESS","UPDATE_ADDRESS_FAILURE","UPDATE_ADDRESS_REQUEST","UPDATE_ADDRESS_SUCCESS","USER_FEATURE_KEY","initialState","loading","user","token","isAuthenticated","errorMessage","userReducer","state","action","type","payload","localStorage","setItem","removeItem","JSON","stringify"],"mappings":"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","sourcesContent":["import {\r\n    GET_USER_INFO_FAILURE,\r\n    GET_USER_INFO_REQUEST, GET_USER_INFO_SUCCESS,\r\n    LOGIN_USER_FAILURE,\r\n    LOGIN_USER_REQUEST, LOGIN_USER_SUCCESS, LOGOUT_USER,\r\n    REGISTER_USER_FAILURE,\r\n    REGISTER_USER_REQUEST,\r\n    REGISTER_USER_SUCCESS, UPDATE_ADDRESS_FAILURE, UPDATE_ADDRESS_REQUEST, UPDATE_ADDRESS_SUCCESS\r\n} from \"./users.actionTypes\";\r\n\r\nexport const USER_FEATURE_KEY = 'user';\r\n\r\nlet initialState = {\r\n    loading : false,\r\n    user : null,\r\n    token : null,\r\n    isAuthenticated : false,\r\n    errorMessage : null\r\n};\r\n\r\nlet userReducer = (state = initialState , action) => {\r\n    let {type , payload} = action;\r\n    switch(type) {\r\n        // register a user\r\n        case REGISTER_USER_REQUEST:\r\n            return {\r\n              ...state,\r\n              loading: true\r\n            };\r\n        case REGISTER_USER_SUCCESS:\r\n            return {\r\n                ...state,\r\n                loading: false\r\n            };\r\n        case REGISTER_USER_FAILURE:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                errorMessage: payload\r\n            };\r\n        // Login a user\r\n        case LOGIN_USER_REQUEST:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            };\r\n        case LOGIN_USER_SUCCESS:\r\n            localStorage.setItem('token', payload.token);\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                token: payload.token,\r\n                isAuthenticated : true\r\n            };\r\n        case LOGIN_USER_FAILURE:\r\n            localStorage.removeItem('token');\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                errorMessage: payload,\r\n                token: null,\r\n                isAuthenticated : false\r\n            };\r\n        // get User Info\r\n        case GET_USER_INFO_REQUEST:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            };\r\n        case GET_USER_INFO_SUCCESS:\r\n            localStorage.setItem('user', JSON.stringify(payload));\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                user : payload,\r\n                isAuthenticated: true\r\n            };\r\n        case GET_USER_INFO_FAILURE:\r\n            localStorage.removeItem('user');\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                errorMessage: payload,\r\n                user : null\r\n            };\r\n            // Logout User\r\n        case LOGOUT_USER :\r\n            localStorage.removeItem('token');\r\n            localStorage.removeItem('user');\r\n            return  {\r\n                ...state,\r\n                user : null,\r\n                isAuthenticated: false,\r\n                token: null\r\n            };\r\n            // update User Address\r\n        case UPDATE_ADDRESS_REQUEST:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            };\r\n        case UPDATE_ADDRESS_SUCCESS:\r\n            localStorage.setItem('user', JSON.stringify(payload));\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                user : payload,\r\n                isAuthenticated: true\r\n            };\r\n        case UPDATE_ADDRESS_FAILURE:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                errorMessage: payload\r\n            };\r\n        default : return state;\r\n    }\r\n};\r\nexport {userReducer};\r\n"]},"metadata":{},"sourceType":"module"}